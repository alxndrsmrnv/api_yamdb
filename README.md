# api_yamdb
### api_yamdb - Проект YaMDb собирает отзывы пользователей на различные произведения.
***
### Описание проекта:

Проект YaMDb собирает отзывы пользователей на произведения. 
Произведения делятся на категории: «Книги», «Фильмы», «Музыка». 
Список категорий может быть расширен администратором.

Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.

Произведению может быть присвоен жанр из списка предустановленных. Новые жанры может создавать только администратор.

Пользователи оставляют к произведениям текстовые отзывы и ставят произведению оценку в диапазоне от одного до десяти (целое число); 
из пользовательских оценок формируется усреднённая оценка произведения — рейтинг (целое число). На одно произведение пользователь может оставить только один отзыв.
***
### Как запустить проект:

Клонировать репозиторий и перейти в него в командной строке:

```bash
git clone https://github.com/alxndrsmrnv//api_yamdb.git
```

```bash
cd api_final_yatube
```

Cоздать и активировать виртуальное окружение:

```bash
python -m venv env
```

```bash
source env/bin/activate
```

```bash
python -m pip install --upgrade pip
```

Установить зависимости из файла requirements.txt:

```bash
pip install -r requirements.txt
```

Выполнить миграции:

```bash
python manage.py migrate
```

Запустить проект:

```bash
python manage.py runserver
```
***
### Ресурсы API YaMDb

* Ресурс **auth**: аутентификация.
* Ресурс **users**: пользователи.
* Ресурс **titles**: произведения, к которым пишут отзывы (определённый фильм, книга или песенка).
* Ресурс **categories**: категории (типы) произведений («Фильмы», «Книги», «Музыка»).
* Ресурс **genres**: жанры произведений. Одно произведение может быть привязано к нескольким жанрам.
* Ресурс **reviews**: отзывы на произведения. Отзыв привязан к определённому произведению.
* Ресурс **comments**: комментарии к отзывам. Комментарий привязан к определённому отзыву.
***
### Пользовательские роли:

* **Аноним** — может просматривать описания произведений, читать отзывы и комментарии.
* **Аутентифицированный пользователь (user)** — может читать всё, как и Аноним, может публиковать отзывы и ставить оценки произведениям, может комментировать отзывы; может редактировать и удалять свои отзывы и комментарии, редактировать свои оценки произведений. Эта роль присваивается по умолчанию каждому новому пользователю.
* **Модератор (moderator)** — те же права, что и у Аутентифицированного пользователя, плюс право удалять и редактировать любые отзывы и комментарии.
* **Администратор (admin)** — полные права на управление всем контентом проекта. Может создавать и удалять произведения, категории и жанры. Может назначать роли пользователям.
* **Суперюзер Django** — обладает правами администратора, не зависимо от роли.
***
### Алгоритм регистрации пользователя:

1. Пользователь отправляет POST-запрос на добавление нового пользователя с параметрами ```email``` и ```username``` на эндпоинт ```/api/v1/auth/signup/```.
2. **YaMDB** отправляет письмо с кодом подтверждения (```confirmation_code```) на адрес ```email```.
3. Пользователь отправляет POST-запрос с параметрами ```username``` и ```confirmation_code``` на эндпоинт ```/api/v1/auth/token/```, в ответе на запрос ему приходит ```token``` (JWT-токен).
4. При желании пользователь отправляет PATCH-запрос на эндпоинт `````/api/v1/users/me/````` и заполняет поля в своём профайле (описание полей — в документации).
***
### Эндпоинты проекта:

Список доступных эндпоинтов описан в документации по адресу:
```bash
http://127.0.0.1:8000/redoc/
```
Предварительно необходимо запустить проект:
```bash
python manage.py runserver
```